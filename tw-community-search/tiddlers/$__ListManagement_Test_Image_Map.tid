title: $:/ListManagement/Test Image Map
created: 20160224212852796
modified: 20160227002211100
svgheight: 250
svgwidth: 250
original-tags: 
source-wiki-id: ListManagement
source-tiddler-title-as-text: Test Image Map
source-tiddler-title-as-link: Test%20Image%20Map

\define placeText(text x y width height)
    <foreignObject x=<<calcInt $x$ + 5>> 
        y=<<calcInt $y$ + 5>> 
        width="$width$" 
        height=<<calcInt $height$ + 20>> >
        <body>$text$</body>
    </foreignObject>
\end

I have a lovely bunch of coconuts

<svg width={{!!svgwidth}} height={{!!svgheight}} >
    <defs>
        <marker id="Triangle"
                viewBox="0 0 10 10" 
                refX="1" refY="5"
                markerWidth="6" 
                markerHeight="6"
                orient="auto">
            <path d="M 0 0 L 10 5 L 0 10 z" />
	    </marker>
    </defs>
    <polyline points="10,90 50,80 90,20"
              fill="none" stroke="black" 
              stroke-width="2"
              marker-end="url(#Triangle)">
        <title>This is a tooltip</title>
    </polyline>
    <$list filter="[has[svgtype]]">
        <rect x={{!!svgx}} y={{!!svgy}} width={{!!svgwidth}} height={{!!svgheight}} fill="none" stroke="black" />
        <$macrocall $name="placeText" 
                text={{!!caption}} 
                x={{!!svgx}} 
                y={{!!svgy}} 
                width={{!!svgwidth}}
                height={{!!svgheight}} />
    </$list>
</svg>
